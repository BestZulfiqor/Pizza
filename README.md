# Задание 7 - _Программирование на C# ASP.NET 1, Nackademin_

### Задание
> "Создать веб-сайт для заказа пиццы с использованием ASP.NET Core, Entity Framework и Identity. Пользователь должен иметь возможность войти в систему, заказывать блюда и получать баллы для скидок, а также просматривать предыдущие заказы (и их статус доставки). Премиум-пользователи получают дополнительные скидки. Администратор может добавлять новые блюда (составленные из списка ингредиентов), а также управлять пользователями и заказами всех пользователей."

---

# ТОМАСОС !! :pizza:

### Главная страница
![Главная страница, показывает все блюда](/devlog/All.png)

> Сайт стилизован с помощью комбинации Bootstrap 3 и пользовательского CSS. На главной странице вы можете увидеть все доступные блюда или выбрать категорию, например, "Паста", чтобы отфильтровать остальные.

### Регистрация пользователя
![Страница регистрации, создание нового пользователя](/devlog/register.png)

> Пользователи могут свободно регистрироваться и автоматически получают статус "Обычный пользователь". Администратор должен вручную повысить пользователя до Премиум-пользователя (это можно сделать через панель администратора) для получения скидок, упомянутых в задании. Роль администратора можно получить только через ручные SQL-запросы.
>
> Форма регистрации содержит клиентскую валидацию.

### Добавление в корзину
![Главная страница, добавление блюда в корзину](/devlog/backet.png)

> Добавление в корзину использует AJAX вместе с всплывающим окном для добавления без перезагрузки страницы. Корзина сохраняется в данных сессии (на стороне сервера) и не сохраняется при новой веб-сессии.

### Оформление заказа
![Страница корзины, оформление заказа](/devlog/order.png)

> Имея товары в корзине, вы можете их заказать. Поскольку это учебное задание, это только имитация. Заказ только сохраняется в базе данных. Оплата не производится.
>
> Вы можете добавлять блюда в корзину анонимно, но для оформления заказа необходимо иметь зарегистрированную учетную запись.
### Управление ингредиентами
![Список ингредиентов, добавление или удаление](/devlog/resept.png)

> В панели администратора вы можете добавлять и удалять ингредиенты. Однако нельзя удалить ингредиенты, которые используются в существующих блюдах. Список ингредиентов используется при добавлении нового блюда.

### Создание/изменение блюда
![Страница редактирования блюда](/devlog/new_food.png)

> Новые блюда можно добавлять из панели администратора. Объект блюда содержит название, категорию, описание, цену и список ингредиентов.

> База данных состоит из следующих основных таблиц:
> - `Users`: Хранит информацию о пользователях, их роли и баллы
> - `Orders`: Содержит заказы пользователей
> - `OrderItems`: Детали каждого заказа (какие блюда и в каком количестве)
> - `Dishes`: Каталог всех доступных блюд
> - `Ingredients`: Список всех ингредиентов
> - `DishIngredients`: Связывает блюда с их ингредиентами

> Основные связи:
> - Один пользователь может иметь много заказов (1:N)
> - Один заказ может содержать много позиций меню (1:N)
> - Каждое блюдо может содержать много ингредиентов (N:M)
### Схема сайта
![Схема сайта](/devlog/er_diagram.png)